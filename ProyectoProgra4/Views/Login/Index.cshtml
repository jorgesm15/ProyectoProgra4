@model ProyectoProgra4.Entidades.clsLogin

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*<h2>Index</h2>*@
<br />
<br />
<br />

@using (Html.BeginForm("Login", "Login", FormMethod.Post))
{
    if (Session["UserCorreo"] == null)
    {
        <div class="ui container">
            @*<h2>Iniciar Sesión</h2>*@
            <br />
            <br />

            <div id="msjError" class="ui negative message hidden">
                <i class="close icon"></i>
                <div class="header">
                    El correo electrónico que ingresaste no existe en nuestros registros.
                </div>
                <p>
                    Por favor, revisa e inténtalo de nuevo.
                </p>
            </div>

            <div class="ui placeholder segment" style="background-color:#45403F; border-radius:15px; padding-top:5%">
                <div class="ui two column very relaxed stackable grid">
                    <div class="column">
                        <div class="ui form">
                            <div class="field">
                                <div class=" label" style=" font-size:medium; color:#fff">
                                    Correo Electrónico
                                </div>
                                <div class="ui left icon input">
                                    @Html.TextBoxFor(Model => Model.correo, new { @class = "form-control", @id = "correoPersona", @required = "required" })
                                    @*<input type="text" placeholder="">*@
                                    <i class="user icon"></i>
                                </div>
                            </div>
                            <br />

                            <div class="field">
                                <div class=" label" style=" font-size:medium; color:#fff">
                                    Contraseña
                                </div>
                                <div class="ui left icon input">
                                    @Html.TextBoxFor(Model => Model.contrasenia, new { @class = "form-control", @id = "contraseniaPersona", @type = "password", @required = "required" })
                                    @*<input type="password">*@
                                    <i class="lock icon"></i>
                                </div>
                            </div>
                            <br />
                            @*<button type="submit" class="ui medium button botonEstilo" style="margin-top: 10px;">
                                    Iniciar Sesión
                                </button>*@
                            <button class="ui medium button" style="margin-top: 10px; background-color:#F05742; color:white" type="submit">Iniciar Sesión</button>
                            <br />
                        </div>
                    </div>
                    <div class="middle aligned column">
                        @*<div class="ui big button">
                                <a href="@Url.Action("Index", "Registrar")">
                                    <i class="signup icon"></i>
                                    Registrarse
                                </a>
                            </div>*@
                        <div class="ui medium button" style=" background-color:#F05742; color:white">
                            <a style="color:white;" href="@Url.Action("Index", "Registrar")">
                                <i class="signup icon"></i>
                                Registrarse
                            </a>
                        </div>
                    </div>
                </div>
                <div class="ui vertical divider" style=" color:#fff">
                    O
                </div>
            </div>
        </div>

        if (ViewBag.Error != null)
        {
            @Html.Hidden("txtErrorUsuario", (string)ViewBag.Error.ToString())
        }
        else
        {
            @Html.Hidden("txtErrorUsuario", "")
        }
    }
    else
    {
        Response.Redirect("~/DashboardU/Index");
    }

}


@section Scripts
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js" />
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("/Funciones/ViewBags.js")
    @Scripts.Render("/Funciones/HaciendaAPI.js")
    <script>
        $('.message .close')
            .on('click', function () {
                $(this)
                    .closest('.message')
                    .transition('fade');
            });
    </script>
}

